<!DOCTYPE html>
<html>
    <script>
        //Rock Paper Scissors

        /*
        playerSelection() function will allow the user to input 
        either 'rock', 'paper', or 'scissors' 
        (case-insensitive) via a prompt.

        computerSelection() function will randomly pick one of the
        three options.

        Create a playRound() function to compare playerSelection() 
        with computerselection() to decide a winner 

        Write a function called game(), call playRound() inside of
        this function to play a 5 round game (using a for loop).
        
        Keep track of the score and report the winner at the end.
            Inside game(), have an accumulator that increments
            for every win. Once the for loop is complete, console.log()
            the winner and score by comparing the two accumulators.

            Increment the accumulators AND print the
            round result at the same time inside of the game loop
            because every time you call the playRound() function
            you get a different result.
            This will also allow you to limit the playRound() function
            to performing one task only.

        */
        
        // Returns user input as string ('rock', 'paper', or 'scissors')
        function playerSelection() {
            return prompt("Rock, paper, or scissors?").toLowerCase();
        }
        
        // Returns random string ('rock', 'paper', or 'scissors')
        let listOfChoices = ["rock", "paper", "scissors"];
        function computerSelection(listOfChoices) {
            return listOfChoices[Math.floor(Math.random()*listOfChoices.length)];
        }

        // Takes two strings as arguments and compares them to find a winner
        // Returns string "player-win", "computer-win", or "tie" to denote the winner/tie
        // for every user pick; there is a counter pick, a match, and a non-match
        function playRound(playerPick, computerPick) {
            switch(playerPick) {
                case "rock":
                    // counter pick (computer wins)
                    if (computerPick === "paper") {
                        return "computer-win";
                    } // match (tie)
                    else if (computerPick === playerPick) {
                        return "tie";
                    } // non-match (player wins)
                    else {
                        return "player-win";
                    }
                    break;

                case "paper":
                    if (computerPick === "scissors") {
                        return "computer-win";              
                    } 
                    else if (computerPick === playerPick) {
                        return "tie";
                    }
                    else {
                        return "player-win";
                    }
                    break;

                case "scissors":
                    if (computerPick === "rock") {
                        return "computer-win";
                    }
                    else if (computerPick === playerPick) {
                        return "tie";
                    } 
                    else {
                        return "player-win";
                    }
                    break;
            }
        }

        // game loop
        function game() {
            // accumulators
            let playerScore = 0;
            let computerScore = 0;
            // used to store the value of playerSelection and computerSelection for use in string template
            let playerPick = "";
            let computerPick = "";

            for (let i=0; i<5; i++) {
                playerPick = playerSelection();
                computerPick = computerSelection(listOfChoices);
                
                switch(playRound(playerPick, computerPick)) {
                    case "player-win":
                        console.log(`You win, ${playerPick} beats ${computerPick}.`);
                        playerScore++;
                        break;
                    case "computer-win":
                        console.log(`You lose, ${computerPick} beats ${playerPick}.`);
                        computerScore++;
                        break;
                    case "tie":
                        console.log(`Tie, the computer also picked ${computerPick}.`);
                        break;
                }
            }

           // end of game results
           if ((playerScore - computerScore) === 0) {
                console.log(`It\'s a tie! You and the computer both won ${computerScore} games.`);
            }
            else if ((playerScore - computerScore) > 0) {
                console.log(`You win!\nPlayer: ${playerScore} Computer: ${computerScore}`);
            }
            else {
                console.log(`You lose!\nPlayer: ${playerScore} Computer: ${computerScore}`);
            }
        }
        game();
    </script>
</html>